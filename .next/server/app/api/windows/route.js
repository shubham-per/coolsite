/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/windows/route";
exports.ids = ["app/api/windows/route"];
exports.modules = {

/***/ "(rsc)/./app/api/windows/route.ts":
/*!**********************************!*\
  !*** ./app/api/windows/route.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   PUT: () => (/* binding */ PUT)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase */ \"(rsc)/./lib/supabase.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n\n\n\nasync function GET() {\n    try {\n        const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from('windows').select('*').order('order_desktop', {\n            ascending: true\n        });\n        if (error) {\n            console.error('Windows GET error:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to fetch windows'\n            }, {\n                status: 500\n            });\n        }\n        const windows = (data || []).map((w)=>({\n                id: w.id,\n                key: w.key,\n                label: w.label,\n                type: w.type,\n                showOnDesktop: w.show_on_desktop,\n                showInHome: w.show_in_home,\n                orderDesktop: w.order_desktop,\n                orderHome: w.order_home,\n                isHidden: w.is_hidden,\n                content: w.content,\n                icon: w.icon,\n                customIconUrl: w.custom_icon_url,\n                layout: w.layout,\n                isArchived: w.is_archived\n            }));\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(windows);\n    } catch (error) {\n        console.error('Windows GET error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        try {\n            (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.requireAuth)(request);\n        } catch  {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Authentication required'\n            }, {\n                status: 401\n            });\n        }\n        const data = await request.json();\n        const { data: newWindow, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from('windows').insert({\n            key: data.key || `custom-${Date.now()}`,\n            label: data.label || 'New Window',\n            type: data.type || 'custom',\n            show_on_desktop: data.showOnDesktop !== false,\n            show_in_home: data.showInHome !== false,\n            order_desktop: data.orderDesktop || 99,\n            order_home: data.orderHome || 99,\n            is_hidden: data.isHidden || false,\n            content: data.content || '',\n            icon: data.icon || 'folder',\n            layout: data.layout || 'content',\n            is_archived: false\n        }).select().single();\n        if (error) {\n            console.error('Windows POST error:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to create window'\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id: newWindow.id,\n            key: newWindow.key,\n            label: newWindow.label,\n            type: newWindow.type,\n            showOnDesktop: newWindow.show_on_desktop,\n            showInHome: newWindow.show_in_home,\n            orderDesktop: newWindow.order_desktop,\n            orderHome: newWindow.order_home,\n            isHidden: newWindow.is_hidden,\n            content: newWindow.content,\n            icon: newWindow.icon,\n            customIconUrl: newWindow.custom_icon_url,\n            layout: newWindow.layout,\n            isArchived: newWindow.is_archived\n        }, {\n            status: 201\n        });\n    } catch (error) {\n        console.error('Windows POST error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function PUT(request) {\n    try {\n        try {\n            (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.requireAuth)(request);\n        } catch  {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Authentication required'\n            }, {\n                status: 401\n            });\n        }\n        const contentType = request.headers.get('content-type') || '';\n        let data = {};\n        if (contentType.startsWith('multipart/form-data')) {\n            const formData = await request.formData();\n            for (const [key, value] of formData.entries()){\n                if (typeof value === 'string') {\n                    data[key] = value;\n                } else if (value instanceof File) {\n                    // Upload to GitHub\n                    const uploadFormData = new FormData();\n                    uploadFormData.append('file', value);\n                    uploadFormData.append('folder', 'window-icons');\n                    const uploadResponse = await fetch(`${request.nextUrl.origin}/api/upload-github`, {\n                        method: 'POST',\n                        body: uploadFormData\n                    });\n                    if (uploadResponse.ok) {\n                        const uploadResult = await uploadResponse.json();\n                        data.customIconUrl = uploadResult.url;\n                    }\n                }\n            }\n            // Parse numeric and boolean fields\n            if (data.id) data.id = parseInt(data.id);\n            if (data.orderDesktop) data.orderDesktop = parseInt(data.orderDesktop);\n            if (data.orderHome) data.orderHome = parseInt(data.orderHome);\n            [\n                'showOnDesktop',\n                'showInHome',\n                'isHidden',\n                'isArchived'\n            ].forEach((key)=>{\n                if (data[key] !== undefined) {\n                    data[key] = data[key] === 'true' || data[key] === true;\n                }\n            });\n        } else {\n            data = await request.json();\n        }\n        if (!data.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Window ID is required'\n            }, {\n                status: 400\n            });\n        }\n        const updateData = {};\n        if (data.key !== undefined) updateData.key = data.key;\n        if (data.label !== undefined) updateData.label = data.label;\n        if (data.showOnDesktop !== undefined) updateData.show_on_desktop = data.showOnDesktop;\n        if (data.showInHome !== undefined) updateData.show_in_home = data.showInHome;\n        if (data.orderDesktop !== undefined) updateData.order_desktop = data.orderDesktop;\n        if (data.orderHome !== undefined) updateData.order_home = data.orderHome;\n        if (data.isHidden !== undefined) updateData.is_hidden = data.isHidden;\n        if (data.content !== undefined) updateData.content = data.content;\n        if (data.icon !== undefined) updateData.icon = data.icon;\n        if (data.customIconUrl !== undefined) updateData.custom_icon_url = data.customIconUrl;\n        if (data.layout !== undefined) updateData.layout = data.layout;\n        if (data.isArchived !== undefined) updateData.is_archived = data.isArchived;\n        const { data: updated, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from('windows').update(updateData).eq('id', data.id).select().single();\n        if (error) {\n            console.error('Windows PUT error:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to update window'\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            id: updated.id,\n            key: updated.key,\n            label: updated.label,\n            type: updated.type,\n            showOnDesktop: updated.show_on_desktop,\n            showInHome: updated.show_in_home,\n            orderDesktop: updated.order_desktop,\n            orderHome: updated.order_home,\n            isHidden: updated.is_hidden,\n            content: updated.content,\n            icon: updated.icon,\n            customIconUrl: updated.custom_icon_url,\n            layout: updated.layout,\n            isArchived: updated.is_archived\n        });\n    } catch (error) {\n        console.error('Windows PUT error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        try {\n            (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.requireAuth)(request);\n        } catch  {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Authentication required'\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const id = searchParams.get('id');\n        if (!id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Window ID is required'\n            }, {\n                status: 400\n            });\n        }\n        const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_1__.supabase.from('windows').delete().eq('id', parseInt(id));\n        if (error) {\n            console.error('Windows DELETE error:', error);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Failed to delete window'\n            }, {\n                status: 500\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true\n        });\n    } catch (error) {\n        console.error('Windows DELETE error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Internal server error'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJO1FBQ0YsSUFBSTtZQUNGcEMsc0RBQVdBLENBQUNvQztRQUNkLEVBQUUsT0FBTTtZQUNOLE9BQU90QyxxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFTixPQUFPO1lBQTBCLEdBQUc7Z0JBQUVPLFFBQVE7WUFBSTtRQUMvRTtRQUVBLE1BQU0sRUFBRTZELFlBQVksRUFBRSxHQUFHLElBQUlDLElBQUlwQyxRQUFRMEIsR0FBRztRQUM1QyxNQUFNaEQsS0FBS3lELGFBQWExQixHQUFHLENBQUM7UUFFNUIsSUFBSSxDQUFDL0IsSUFBSTtZQUNQLE9BQU9oQixxREFBWUEsQ0FBQ1csSUFBSSxDQUFDO2dCQUFFTixPQUFPO1lBQXdCLEdBQUc7Z0JBQUVPLFFBQVE7WUFBSTtRQUM3RTtRQUVBLE1BQU0sRUFBRVAsS0FBSyxFQUFFLEdBQUcsTUFBTUosbURBQVFBLENBQzdCSyxJQUFJLENBQUMsV0FDTHFFLE1BQU0sR0FDTkosRUFBRSxDQUFDLE1BQU1OLFNBQVNqRDtRQUVyQixJQUFJWCxPQUFPO1lBQ1RLLFFBQVFMLEtBQUssQ0FBQyx5QkFBeUJBO1lBQ3ZDLE9BQU9MLHFEQUFZQSxDQUFDVyxJQUFJLENBQUM7Z0JBQUVOLE9BQU87WUFBMEIsR0FBRztnQkFBRU8sUUFBUTtZQUFJO1FBQy9FO1FBRUEsT0FBT1oscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFaUUsU0FBUztRQUFLO0lBQzNDLEVBQUUsT0FBT3ZFLE9BQU87UUFDZEssUUFBUUwsS0FBSyxDQUFDLHlCQUF5QkE7UUFDdkMsT0FBT0wscURBQVlBLENBQUNXLElBQUksQ0FBQztZQUFFTixPQUFPO1FBQXdCLEdBQUc7WUFBRU8sUUFBUTtRQUFJO0lBQzdFO0FBQ0YiLCJzb3VyY2VzIjpbIkQ6XFxDb2RlXFxteSBzaXRlIC0gQ29weSAoMilcXG15LXNpdGVcXGFwcFxcYXBpXFx3aW5kb3dzXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5pbXBvcnQgeyBzdXBhYmFzZSB9IGZyb20gJ0AvbGliL3N1cGFiYXNlJztcclxuaW1wb3J0IHsgcmVxdWlyZUF1dGggfSBmcm9tICdAL2xpYi9hdXRoJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd3aW5kb3dzJylcclxuICAgICAgLnNlbGVjdCgnKicpXHJcbiAgICAgIC5vcmRlcignb3JkZXJfZGVza3RvcCcsIHsgYXNjZW5kaW5nOiB0cnVlIH0pO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdXaW5kb3dzIEdFVCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHdpbmRvd3MnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3Qgd2luZG93cyA9IChkYXRhIHx8IFtdKS5tYXAodyA9PiAoe1xyXG4gICAgICBpZDogdy5pZCxcclxuICAgICAga2V5OiB3LmtleSxcclxuICAgICAgbGFiZWw6IHcubGFiZWwsXHJcbiAgICAgIHR5cGU6IHcudHlwZSxcclxuICAgICAgc2hvd09uRGVza3RvcDogdy5zaG93X29uX2Rlc2t0b3AsXHJcbiAgICAgIHNob3dJbkhvbWU6IHcuc2hvd19pbl9ob21lLFxyXG4gICAgICBvcmRlckRlc2t0b3A6IHcub3JkZXJfZGVza3RvcCxcclxuICAgICAgb3JkZXJIb21lOiB3Lm9yZGVyX2hvbWUsXHJcbiAgICAgIGlzSGlkZGVuOiB3LmlzX2hpZGRlbixcclxuICAgICAgY29udGVudDogdy5jb250ZW50LFxyXG4gICAgICBpY29uOiB3Lmljb24sXHJcbiAgICAgIGN1c3RvbUljb25Vcmw6IHcuY3VzdG9tX2ljb25fdXJsLFxyXG4gICAgICBsYXlvdXQ6IHcubGF5b3V0LFxyXG4gICAgICBpc0FyY2hpdmVkOiB3LmlzX2FyY2hpdmVkLFxyXG4gICAgfSkpO1xyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih3aW5kb3dzKTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignV2luZG93cyBHRVQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXF1aXJlQXV0aChyZXF1ZXN0KTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IG5ld1dpbmRvdywgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd3aW5kb3dzJylcclxuICAgICAgLmluc2VydCh7XHJcbiAgICAgICAga2V5OiBkYXRhLmtleSB8fCBgY3VzdG9tLSR7RGF0ZS5ub3coKX1gLFxyXG4gICAgICAgIGxhYmVsOiBkYXRhLmxhYmVsIHx8ICdOZXcgV2luZG93JyxcclxuICAgICAgICB0eXBlOiBkYXRhLnR5cGUgfHwgJ2N1c3RvbScsXHJcbiAgICAgICAgc2hvd19vbl9kZXNrdG9wOiBkYXRhLnNob3dPbkRlc2t0b3AgIT09IGZhbHNlLFxyXG4gICAgICAgIHNob3dfaW5faG9tZTogZGF0YS5zaG93SW5Ib21lICE9PSBmYWxzZSxcclxuICAgICAgICBvcmRlcl9kZXNrdG9wOiBkYXRhLm9yZGVyRGVza3RvcCB8fCA5OSxcclxuICAgICAgICBvcmRlcl9ob21lOiBkYXRhLm9yZGVySG9tZSB8fCA5OSxcclxuICAgICAgICBpc19oaWRkZW46IGRhdGEuaXNIaWRkZW4gfHwgZmFsc2UsXHJcbiAgICAgICAgY29udGVudDogZGF0YS5jb250ZW50IHx8ICcnLFxyXG4gICAgICAgIGljb246IGRhdGEuaWNvbiB8fCAnZm9sZGVyJyxcclxuICAgICAgICBsYXlvdXQ6IGRhdGEubGF5b3V0IHx8ICdjb250ZW50JyxcclxuICAgICAgICBpc19hcmNoaXZlZDogZmFsc2UsXHJcbiAgICAgIH0pXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dpbmRvd3MgUE9TVCBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSB3aW5kb3cnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcclxuICAgICAgaWQ6IG5ld1dpbmRvdy5pZCxcclxuICAgICAga2V5OiBuZXdXaW5kb3cua2V5LFxyXG4gICAgICBsYWJlbDogbmV3V2luZG93LmxhYmVsLFxyXG4gICAgICB0eXBlOiBuZXdXaW5kb3cudHlwZSxcclxuICAgICAgc2hvd09uRGVza3RvcDogbmV3V2luZG93LnNob3dfb25fZGVza3RvcCxcclxuICAgICAgc2hvd0luSG9tZTogbmV3V2luZG93LnNob3dfaW5faG9tZSxcclxuICAgICAgb3JkZXJEZXNrdG9wOiBuZXdXaW5kb3cub3JkZXJfZGVza3RvcCxcclxuICAgICAgb3JkZXJIb21lOiBuZXdXaW5kb3cub3JkZXJfaG9tZSxcclxuICAgICAgaXNIaWRkZW46IG5ld1dpbmRvdy5pc19oaWRkZW4sXHJcbiAgICAgIGNvbnRlbnQ6IG5ld1dpbmRvdy5jb250ZW50LFxyXG4gICAgICBpY29uOiBuZXdXaW5kb3cuaWNvbixcclxuICAgICAgY3VzdG9tSWNvblVybDogbmV3V2luZG93LmN1c3RvbV9pY29uX3VybCxcclxuICAgICAgbGF5b3V0OiBuZXdXaW5kb3cubGF5b3V0LFxyXG4gICAgICBpc0FyY2hpdmVkOiBuZXdXaW5kb3cuaXNfYXJjaGl2ZWQsXHJcbiAgICB9LCB7IHN0YXR1czogMjAxIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdXaW5kb3dzIFBPU1QgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUFVUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIHJlcXVpcmVBdXRoKHJlcXVlc3QpO1xyXG4gICAgfSBjYXRjaCB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnQXV0aGVudGljYXRpb24gcmVxdWlyZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSB8fCAnJztcclxuICAgIGxldCBkYXRhOiBhbnkgPSB7fTtcclxuXHJcbiAgICBpZiAoY29udGVudFR5cGUuc3RhcnRzV2l0aCgnbXVsdGlwYXJ0L2Zvcm0tZGF0YScpKSB7XHJcbiAgICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xyXG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgZGF0YVtrZXldID0gdmFsdWU7XHJcbiAgICAgICAgfSBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEZpbGUpIHtcclxuICAgICAgICAgIC8vIFVwbG9hZCB0byBHaXRIdWJcclxuICAgICAgICAgIGNvbnN0IHVwbG9hZEZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgICB1cGxvYWRGb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB2YWx1ZSk7XHJcbiAgICAgICAgICB1cGxvYWRGb3JtRGF0YS5hcHBlbmQoJ2ZvbGRlcicsICd3aW5kb3ctaWNvbnMnKTtcclxuXHJcbiAgICAgICAgICBjb25zdCB1cGxvYWRSZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke3JlcXVlc3QubmV4dFVybC5vcmlnaW59L2FwaS91cGxvYWQtZ2l0aHViYCwge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgYm9keTogdXBsb2FkRm9ybURhdGEsXHJcbiAgICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgICBpZiAodXBsb2FkUmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgY29uc3QgdXBsb2FkUmVzdWx0ID0gYXdhaXQgdXBsb2FkUmVzcG9uc2UuanNvbigpO1xyXG4gICAgICAgICAgICBkYXRhLmN1c3RvbUljb25VcmwgPSB1cGxvYWRSZXN1bHQudXJsO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICAvLyBQYXJzZSBudW1lcmljIGFuZCBib29sZWFuIGZpZWxkc1xyXG4gICAgICBpZiAoZGF0YS5pZCkgZGF0YS5pZCA9IHBhcnNlSW50KGRhdGEuaWQpO1xyXG4gICAgICBpZiAoZGF0YS5vcmRlckRlc2t0b3ApIGRhdGEub3JkZXJEZXNrdG9wID0gcGFyc2VJbnQoZGF0YS5vcmRlckRlc2t0b3ApO1xyXG4gICAgICBpZiAoZGF0YS5vcmRlckhvbWUpIGRhdGEub3JkZXJIb21lID0gcGFyc2VJbnQoZGF0YS5vcmRlckhvbWUpO1xyXG4gICAgICBbJ3Nob3dPbkRlc2t0b3AnLCAnc2hvd0luSG9tZScsICdpc0hpZGRlbicsICdpc0FyY2hpdmVkJ10uZm9yRWFjaChrZXkgPT4ge1xyXG4gICAgICAgIGlmIChkYXRhW2tleV0gIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgZGF0YVtrZXldID0gZGF0YVtrZXldID09PSAndHJ1ZScgfHwgZGF0YVtrZXldID09PSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBkYXRhID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFkYXRhLmlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnV2luZG93IElEIGlzIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHVwZGF0ZURhdGE6IGFueSA9IHt9O1xyXG4gICAgaWYgKGRhdGEua2V5ICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEua2V5ID0gZGF0YS5rZXk7XHJcbiAgICBpZiAoZGF0YS5sYWJlbCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmxhYmVsID0gZGF0YS5sYWJlbDtcclxuICAgIGlmIChkYXRhLnNob3dPbkRlc2t0b3AgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5zaG93X29uX2Rlc2t0b3AgPSBkYXRhLnNob3dPbkRlc2t0b3A7XHJcbiAgICBpZiAoZGF0YS5zaG93SW5Ib21lICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuc2hvd19pbl9ob21lID0gZGF0YS5zaG93SW5Ib21lO1xyXG4gICAgaWYgKGRhdGEub3JkZXJEZXNrdG9wICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEub3JkZXJfZGVza3RvcCA9IGRhdGEub3JkZXJEZXNrdG9wO1xyXG4gICAgaWYgKGRhdGEub3JkZXJIb21lICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEub3JkZXJfaG9tZSA9IGRhdGEub3JkZXJIb21lO1xyXG4gICAgaWYgKGRhdGEuaXNIaWRkZW4gIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5pc19oaWRkZW4gPSBkYXRhLmlzSGlkZGVuO1xyXG4gICAgaWYgKGRhdGEuY29udGVudCAhPT0gdW5kZWZpbmVkKSB1cGRhdGVEYXRhLmNvbnRlbnQgPSBkYXRhLmNvbnRlbnQ7XHJcbiAgICBpZiAoZGF0YS5pY29uICE9PSB1bmRlZmluZWQpIHVwZGF0ZURhdGEuaWNvbiA9IGRhdGEuaWNvbjtcclxuICAgIGlmIChkYXRhLmN1c3RvbUljb25VcmwgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5jdXN0b21faWNvbl91cmwgPSBkYXRhLmN1c3RvbUljb25Vcmw7XHJcbiAgICBpZiAoZGF0YS5sYXlvdXQgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5sYXlvdXQgPSBkYXRhLmxheW91dDtcclxuICAgIGlmIChkYXRhLmlzQXJjaGl2ZWQgIT09IHVuZGVmaW5lZCkgdXBkYXRlRGF0YS5pc19hcmNoaXZlZCA9IGRhdGEuaXNBcmNoaXZlZDtcclxuXHJcbiAgICBjb25zdCB7IGRhdGE6IHVwZGF0ZWQsIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxyXG4gICAgICAuZnJvbSgnd2luZG93cycpXHJcbiAgICAgIC51cGRhdGUodXBkYXRlRGF0YSlcclxuICAgICAgLmVxKCdpZCcsIGRhdGEuaWQpXHJcbiAgICAgIC5zZWxlY3QoKVxyXG4gICAgICAuc2luZ2xlKCk7XHJcblxyXG4gICAgaWYgKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1dpbmRvd3MgUFVUIGVycm9yOicsIGVycm9yKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gdXBkYXRlIHdpbmRvdycgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xyXG4gICAgICBpZDogdXBkYXRlZC5pZCxcclxuICAgICAga2V5OiB1cGRhdGVkLmtleSxcclxuICAgICAgbGFiZWw6IHVwZGF0ZWQubGFiZWwsXHJcbiAgICAgIHR5cGU6IHVwZGF0ZWQudHlwZSxcclxuICAgICAgc2hvd09uRGVza3RvcDogdXBkYXRlZC5zaG93X29uX2Rlc2t0b3AsXHJcbiAgICAgIHNob3dJbkhvbWU6IHVwZGF0ZWQuc2hvd19pbl9ob21lLFxyXG4gICAgICBvcmRlckRlc2t0b3A6IHVwZGF0ZWQub3JkZXJfZGVza3RvcCxcclxuICAgICAgb3JkZXJIb21lOiB1cGRhdGVkLm9yZGVyX2hvbWUsXHJcbiAgICAgIGlzSGlkZGVuOiB1cGRhdGVkLmlzX2hpZGRlbixcclxuICAgICAgY29udGVudDogdXBkYXRlZC5jb250ZW50LFxyXG4gICAgICBpY29uOiB1cGRhdGVkLmljb24sXHJcbiAgICAgIGN1c3RvbUljb25Vcmw6IHVwZGF0ZWQuY3VzdG9tX2ljb25fdXJsLFxyXG4gICAgICBsYXlvdXQ6IHVwZGF0ZWQubGF5b3V0LFxyXG4gICAgICBpc0FyY2hpdmVkOiB1cGRhdGVkLmlzX2FyY2hpdmVkLFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ1dpbmRvd3MgUFVUIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgc2VydmVyIGVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURShyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xyXG4gIHRyeSB7XHJcbiAgICB0cnkge1xyXG4gICAgICByZXF1aXJlQXV0aChyZXF1ZXN0KTtcclxuICAgIH0gY2F0Y2gge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAxIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgIGNvbnN0IGlkID0gc2VhcmNoUGFyYW1zLmdldCgnaWQnKTtcclxuXHJcbiAgICBpZiAoIWlkKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnV2luZG93IElEIGlzIHJlcXVpcmVkJyB9LCB7IHN0YXR1czogNDAwIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXHJcbiAgICAgIC5mcm9tKCd3aW5kb3dzJylcclxuICAgICAgLmRlbGV0ZSgpXHJcbiAgICAgIC5lcSgnaWQnLCBwYXJzZUludChpZCkpO1xyXG5cclxuICAgIGlmIChlcnJvcikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdXaW5kb3dzIERFTEVURSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGRlbGV0ZSB3aW5kb3cnIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignV2luZG93cyBERUxFVEUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3InIH0sIHsgc3RhdHVzOiA1MDAgfSk7XHJcbiAgfVxyXG59XHJcbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJzdXBhYmFzZSIsInJlcXVpcmVBdXRoIiwiR0VUIiwiZGF0YSIsImVycm9yIiwiZnJvbSIsInNlbGVjdCIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiY29uc29sZSIsImpzb24iLCJzdGF0dXMiLCJ3aW5kb3dzIiwibWFwIiwidyIsImlkIiwia2V5IiwibGFiZWwiLCJ0eXBlIiwic2hvd09uRGVza3RvcCIsInNob3dfb25fZGVza3RvcCIsInNob3dJbkhvbWUiLCJzaG93X2luX2hvbWUiLCJvcmRlckRlc2t0b3AiLCJvcmRlcl9kZXNrdG9wIiwib3JkZXJIb21lIiwib3JkZXJfaG9tZSIsImlzSGlkZGVuIiwiaXNfaGlkZGVuIiwiY29udGVudCIsImljb24iLCJjdXN0b21JY29uVXJsIiwiY3VzdG9tX2ljb25fdXJsIiwibGF5b3V0IiwiaXNBcmNoaXZlZCIsImlzX2FyY2hpdmVkIiwiUE9TVCIsInJlcXVlc3QiLCJuZXdXaW5kb3ciLCJpbnNlcnQiLCJEYXRlIiwibm93Iiwic2luZ2xlIiwiUFVUIiwiY29udGVudFR5cGUiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsImZvcm1EYXRhIiwidmFsdWUiLCJlbnRyaWVzIiwiRmlsZSIsInVwbG9hZEZvcm1EYXRhIiwiRm9ybURhdGEiLCJhcHBlbmQiLCJ1cGxvYWRSZXNwb25zZSIsImZldGNoIiwibmV4dFVybCIsIm9yaWdpbiIsIm1ldGhvZCIsImJvZHkiLCJvayIsInVwbG9hZFJlc3VsdCIsInVybCIsInBhcnNlSW50IiwiZm9yRWFjaCIsInVuZGVmaW5lZCIsInVwZGF0ZURhdGEiLCJ1cGRhdGVkIiwidXBkYXRlIiwiZXEiLCJERUxFVEUiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJkZWxldGUiLCJzdWNjZXNzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/windows/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createAuthError: () => (/* binding */ createAuthError),\n/* harmony export */   requireAuth: () => (/* binding */ requireAuth)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst JWT_SECRET = process.env.JWT_SECRET;\nif (!JWT_SECRET) {\n    throw new Error('JWT_SECRET environment variable is required');\n}\nconst jwtSecret = JWT_SECRET;\nfunction requireAuth(request) {\n    const token = request.cookies.get('auth-token')?.value;\n    if (!token) {\n        throw new Error('Authentication required');\n    }\n    try {\n        const decoded = (0,jsonwebtoken__WEBPACK_IMPORTED_MODULE_1__.verify)(token, jwtSecret);\n        if (!decoded || !decoded.email) {\n            throw new Error('Invalid token');\n        }\n        return decoded;\n    } catch (error) {\n        throw new Error('Authentication failed');\n    }\n}\nfunction createAuthError() {\n    return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: 'Authentication required'\n    }, {\n        status: 401\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQUNsQjtBQUV0QyxNQUFNRSxhQUFhQyxRQUFRQyxHQUFHLENBQUNGLFVBQVU7QUFDekMsSUFBSSxDQUFDQSxZQUFZO0lBQ2YsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBQ0EsTUFBTUMsWUFBb0JKO0FBRW5CLFNBQVNLLFlBQVlDLE9BQW9CO0lBQzlDLE1BQU1DLFFBQVFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGVBQWVDO0lBRWpELElBQUksQ0FBQ0gsT0FBTztRQUNWLE1BQU0sSUFBSUosTUFBTTtJQUNsQjtJQUVBLElBQUk7UUFDRixNQUFNUSxVQUFVWixvREFBTUEsQ0FBQ1EsT0FBT0g7UUFDOUIsSUFBSSxDQUFDTyxXQUFXLENBQUNBLFFBQVFDLEtBQUssRUFBRTtZQUM5QixNQUFNLElBQUlULE1BQU07UUFDbEI7UUFDQSxPQUFPUTtJQUNULEVBQUUsT0FBT0UsT0FBTztRQUNkLE1BQU0sSUFBSVYsTUFBTTtJQUNsQjtBQUNGO0FBRU8sU0FBU1c7SUFDZCxPQUFPaEIscURBQVlBLENBQUNpQixJQUFJLENBQ3RCO1FBQUVGLE9BQU87SUFBMEIsR0FDbkM7UUFBRUcsUUFBUTtJQUFJO0FBRWxCIiwic291cmNlcyI6WyJEOlxcQ29kZVxcbXkgc2l0ZSAtIENvcHkgKDIpXFxteS1zaXRlXFxsaWJcXGF1dGgudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IHZlcmlmeSB9IGZyb20gJ2pzb253ZWJ0b2tlbic7XG5cbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUO1xuaWYgKCFKV1RfU0VDUkVUKSB7XG4gIHRocm93IG5ldyBFcnJvcignSldUX1NFQ1JFVCBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyByZXF1aXJlZCcpO1xufVxuY29uc3Qgand0U2VjcmV0OiBzdHJpbmcgPSBKV1RfU0VDUkVUO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZUF1dGgocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3QgdG9rZW4gPSByZXF1ZXN0LmNvb2tpZXMuZ2V0KCdhdXRoLXRva2VuJyk/LnZhbHVlO1xuXG4gIGlmICghdG9rZW4pIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0F1dGhlbnRpY2F0aW9uIHJlcXVpcmVkJyk7XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGRlY29kZWQgPSB2ZXJpZnkodG9rZW4sIGp3dFNlY3JldCkgYXMgYW55O1xuICAgIGlmICghZGVjb2RlZCB8fCAhZGVjb2RlZC5lbWFpbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHRva2VuJyk7XG4gICAgfVxuICAgIHJldHVybiBkZWNvZGVkO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gZmFpbGVkJyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUF1dGhFcnJvcigpIHtcbiAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgIHsgZXJyb3I6ICdBdXRoZW50aWNhdGlvbiByZXF1aXJlZCcgfSxcbiAgICB7IHN0YXR1czogNDAxIH1cbiAgKTtcbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJ2ZXJpZnkiLCJKV1RfU0VDUkVUIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiand0U2VjcmV0IiwicmVxdWlyZUF1dGgiLCJyZXF1ZXN0IiwidG9rZW4iLCJjb29raWVzIiwiZ2V0IiwidmFsdWUiLCJkZWNvZGVkIiwiZW1haWwiLCJlcnJvciIsImNyZWF0ZUF1dGhFcnJvciIsImpzb24iLCJzdGF0dXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/supabase.ts":
/*!*************************!*\
  !*** ./lib/supabase.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   supabase: () => (/* binding */ supabase)\n/* harmony export */ });\n/* harmony import */ var _supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/supabase-js */ \"(rsc)/./node_modules/@supabase/supabase-js/dist/index.mjs\");\n\nconst supabaseUrl = process.env.SUPABASE_URL;\nconst supabaseAnonKey = process.env.SUPABASE_ANON_KEY;\nif (!supabaseUrl || !supabaseAnonKey) {\n    throw new Error('Missing Supabase environment variables');\n}\nconst supabase = (0,_supabase_supabase_js__WEBPACK_IMPORTED_MODULE_0__.createClient)(supabaseUrl, supabaseAnonKey);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3VwYWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBb0Q7QUFFcEQsTUFBTUMsY0FBY0MsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0FBQzVDLE1BQU1DLGtCQUFrQkgsUUFBUUMsR0FBRyxDQUFDRyxpQkFBaUI7QUFFckQsSUFBSSxDQUFDTCxlQUFlLENBQUNJLGlCQUFpQjtJQUNsQyxNQUFNLElBQUlFLE1BQU07QUFDcEI7QUFFTyxNQUFNQyxXQUFXUixtRUFBWUEsQ0FBQ0MsYUFBYUksaUJBQWdCIiwic291cmNlcyI6WyJEOlxcQ29kZVxcbXkgc2l0ZSAtIENvcHkgKDIpXFxteS1zaXRlXFxsaWJcXHN1cGFiYXNlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcydcclxuXHJcbmNvbnN0IHN1cGFiYXNlVXJsID0gcHJvY2Vzcy5lbnYuU1VQQUJBU0VfVVJMIVxyXG5jb25zdCBzdXBhYmFzZUFub25LZXkgPSBwcm9jZXNzLmVudi5TVVBBQkFTRV9BTk9OX0tFWSFcclxuXHJcbmlmICghc3VwYWJhc2VVcmwgfHwgIXN1cGFiYXNlQW5vbktleSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIFN1cGFiYXNlIGVudmlyb25tZW50IHZhcmlhYmxlcycpXHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBzdXBhYmFzZSA9IGNyZWF0ZUNsaWVudChzdXBhYmFzZVVybCwgc3VwYWJhc2VBbm9uS2V5KVxyXG5cclxuLy8gVHlwZSBkZWZpbml0aW9ucyBmb3Igb3VyIGRhdGFiYXNlIHRhYmxlc1xyXG5leHBvcnQgaW50ZXJmYWNlIERiUHJvamVjdCB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICB0aXRsZTogc3RyaW5nXHJcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nXHJcbiAgICBjYXRlZ29yeTogJ2VuZ2luZWVyaW5nJyB8ICdnYW1lcycgfCAnYXJ0J1xyXG4gICAgaW1hZ2VfdXJsPzogc3RyaW5nXHJcbiAgICBwaG90b3M6IHN0cmluZ1tdXHJcbiAgICBrZXl3b3Jkczogc3RyaW5nW11cclxuICAgIHByb2plY3RfbGluaz86IHN0cmluZ1xyXG4gICAgdGFnczogc3RyaW5nW11cclxuICAgIG9yZGVyX2luZGV4OiBudW1iZXJcclxuICAgIGlzX2FjdGl2ZTogYm9vbGVhblxyXG4gICAgY3VzdG9tX3RhYl9rZXk/OiBzdHJpbmdcclxuICAgIGNyZWF0ZWRfYXQ/OiBzdHJpbmdcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBEYkNvbnRlbnQge1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgc2VjdGlvbjogc3RyaW5nXHJcbiAgICB0aXRsZTogc3RyaW5nXHJcbiAgICBjb250ZW50OiBzdHJpbmdcclxuICAgIGltYWdlX3VybD86IHN0cmluZ1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERiRmFxIHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIHF1ZXN0aW9uOiBzdHJpbmdcclxuICAgIGFuc3dlcjogc3RyaW5nXHJcbiAgICBvcmRlcjogbnVtYmVyXHJcbiAgICBpc19hY3RpdmU6IGJvb2xlYW5cclxuICAgIGN1c3RvbV90YWJfa2V5Pzogc3RyaW5nXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgRGJDb250YWN0TGluayB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBuYW1lOiBzdHJpbmdcclxuICAgIHVybDogc3RyaW5nXHJcbiAgICBpY29uX3VybDogc3RyaW5nXHJcbiAgICBvcmRlcjogbnVtYmVyXHJcbiAgICBpc19hY3RpdmU6IGJvb2xlYW5cclxuICAgIHNob3dfb25fZGVza3RvcDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERiV2luZG93IHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIGtleTogc3RyaW5nXHJcbiAgICBsYWJlbDogc3RyaW5nXHJcbiAgICB0eXBlOiAnYnVpbHRJbicgfCAnY3VzdG9tJ1xyXG4gICAgc2hvd19vbl9kZXNrdG9wOiBib29sZWFuXHJcbiAgICBzaG93X2luX2hvbWU6IGJvb2xlYW5cclxuICAgIG9yZGVyX2Rlc2t0b3A6IG51bWJlclxyXG4gICAgb3JkZXJfaG9tZTogbnVtYmVyXHJcbiAgICBpc19oaWRkZW46IGJvb2xlYW5cclxuICAgIGNvbnRlbnQ/OiBzdHJpbmdcclxuICAgIGljb24/OiBzdHJpbmdcclxuICAgIGN1c3RvbV9pY29uX3VybD86IHN0cmluZ1xyXG4gICAgbGF5b3V0PzogJ2NvbnRlbnQnIHwgJ3Byb2plY3RzJyB8ICdmYXEnIHwgJ2dhbGxlcnknXHJcbiAgICBpc19hcmNoaXZlZDogYm9vbGVhblxyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIERiQmFja2dyb3VuZCB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBtb2RlOiAnZGVza3RvcCcgfCAnbW9iaWxlJ1xyXG4gICAgdHlwZTogJ3NvbGlkJyB8ICdncmFkaWVudCcgfCAnaW1hZ2UnXHJcbiAgICBjb2xvcjogc3RyaW5nXHJcbiAgICBmcm9tX2NvbG9yOiBzdHJpbmdcclxuICAgIHZpYV9jb2xvcjogc3RyaW5nXHJcbiAgICB0b19jb2xvcjogc3RyaW5nXHJcbiAgICBvdmVybGF5OiBib29sZWFuXHJcbiAgICBpbWFnZV91cmw/OiBzdHJpbmdcclxuICAgIGljb25fY29sb3I/OiBzdHJpbmdcclxufVxyXG4iXSwibmFtZXMiOlsiY3JlYXRlQ2xpZW50Iiwic3VwYWJhc2VVcmwiLCJwcm9jZXNzIiwiZW52IiwiU1VQQUJBU0VfVVJMIiwic3VwYWJhc2VBbm9uS2V5IiwiU1VQQUJBU0VfQU5PTl9LRVkiLCJFcnJvciIsInN1cGFiYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/supabase.ts\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwindows%2Froute&page=%2Fapi%2Fwindows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwindows%2Froute.ts&appDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwindows%2Froute&page=%2Fapi%2Fwindows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwindows%2Froute.ts&appDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Code_my_site_Copy_2_my_site_app_api_windows_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/windows/route.ts */ \"(rsc)/./app/api/windows/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"standalone\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/windows/route\",\n        pathname: \"/api/windows\",\n        filename: \"route\",\n        bundlePath: \"app/api/windows/route\"\n    },\n    resolvedPagePath: \"D:\\\\Code\\\\my site - Copy (2)\\\\my-site\\\\app\\\\api\\\\windows\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Code_my_site_Copy_2_my_site_app_api_windows_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ3aW5kb3dzJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ3aW5kb3dzJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGd2luZG93cyUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDQ29kZSU1Q215JTIwc2l0ZSUyMC0lMjBDb3B5JTIwKDIpJTVDbXktc2l0ZSU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RCUzQSU1Q0NvZGUlNUNteSUyMHNpdGUlMjAtJTIwQ29weSUyMCgyKSU1Q215LXNpdGUmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9c3RhbmRhbG9uZSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNxQjtBQUNrQjtBQUMvRjtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNEQUFzRDtBQUM5RDtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUMwRjs7QUFFMUYiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBcHBSb3V0ZVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcQ29kZVxcXFxteSBzaXRlIC0gQ29weSAoMilcXFxcbXktc2l0ZVxcXFxhcHBcXFxcYXBpXFxcXHdpbmRvd3NcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwic3RhbmRhbG9uZVwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS93aW5kb3dzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvd2luZG93c1wiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvd2luZG93cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkQ6XFxcXENvZGVcXFxcbXkgc2l0ZSAtIENvcHkgKDIpXFxcXG15LXNpdGVcXFxcYXBwXFxcXGFwaVxcXFx3aW5kb3dzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwindows%2Froute&page=%2Fapi%2Fwindows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwindows%2Froute.ts&appDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("util");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time","vendor-chunks/@supabase","vendor-chunks/tslib","vendor-chunks/iceberg-js"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fwindows%2Froute&page=%2Fapi%2Fwindows%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwindows%2Froute.ts&appDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CCode%5Cmy%20site%20-%20Copy%20(2)%5Cmy-site&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=standalone&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();